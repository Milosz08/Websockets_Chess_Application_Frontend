<!--
  ~ Copyright (c) 2022 by MILOSZ GILGA <https://miloszgilga.pl>
  ~
  ~ File name: single-choice-box-input.component.html
  ~ Last modified: 15/09/2022, 00:57
  ~ Project name: chess-app-frontend
  ~
  ~ Licensed under the MIT license; you may not use this file except in compliance with the License.
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
  ~ documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
  ~ rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
  ~ permit persons to whom the Software is furnished to do so, subject to the following conditions:
  ~
  ~ THE ABOVE COPYRIGHT NOTICE AND THIS PERMISSION NOTICE SHALL BE INCLUDED IN ALL
  ~ COPIES OR SUBSTANTIAL PORTIONS OF THE SOFTWARE.
  -->

<label
    class="mg-chess__standard-form-label__container"
    closeOutsideClickComponent
    (_clickOutisdeElement)="handleCloseComboBox()"
>
    <span
        *ngIf="_topInfoLabel !== ''"
        [ngClass]="[ 'mgchess__standard-form-label__text-primary-color', _cssClasses.textContent ]"
    >
        {{ _topInfoLabel }}
    </span>
    <div class="mg-chess__single-choicebox-container">
        <button
            type="button"
            (mouseup)="handleToggleComboBoxList()"
            [attr.data-is-active]="_selectedItemName !== _initialLabelText"
            [ngClass]="[ 'mg-chess__standard-form-select-primary-color', _cssClasses.input ]"
        >
            {{ _selectedItemName }}
            <span
                [attr.data-is-active]="_isVisible"
                class="material-symbols-outlined mg-chess__choicebox-more-icon"
            >
                expand_more
            </span>
        </button>
        <ul
            *ngIf="_isVisible"
            [ngClass]="[ 'mg-chess__choicebox__list', _cssClasses.input ]"
        >
            <li *ngFor="let itemElement of _itemListWithDef">
                <button
                    type="button"
                    (mouseup)="handleFilledUpWithClickedComboBoxData(itemElement)"
                    [title]="[ 'Click here to insert ' + itemElement.value ]"
                    [ngClass]="[ 'mg-chess__choicebox__list-element-button', _cssClasses.input ]"
                >
                    {{ itemElement.value }}
                </button>
            </li>
        </ul>
    </div>
    <p
        *ngIf="__fieldHasErrors"
        [ngClass]="[ 'mg-chess__form-data-paragraph', _cssClasses.paragraph ]"
    >
        {{ _errorTextLabel }}
    </p>
</label>
